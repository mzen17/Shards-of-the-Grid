!!!
%html
  %head
    %title
      = full_title(yield(:title))
    = csrf_meta_tags
    = csp_meta_tag

    = stylesheet_link_tag 'application', media: 'all', 'data-turbo-track': 'reload'
    = stylesheet_link_tag href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css", integrity: "sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH", crossorigin: "anonymous", media: "all"

  %body{class: "mt-10 #{user_signed_in? ? 'authenticated-home-background' : 'unauthenticated-home-background'}"}
    %header.header
      %nav.navbar.navbar-expand-lg.bg-color-primary.fixed-top
        %div.container-fluid
          %a.navbar-brand{:href => "/"}
            = image_tag "logo.webp", alt: "Logo", class: "logo"
          %button.navbar-toggler{ type: "button", data: { bs_toggle: "collapse", bs_target: "#navbarNav" }, aria: { controls: "navbarNav", expanded: "false", label: "Toggle navigation" } }
            #span.navbar-toggler-icon
          %div.collapse.navbar-collapse#navbarNav
            %ul.navbar-nav.ms-auto
              - if user_signed_in?
                %li.nav-item
                  %a.nav-link.text-color-secondary{:href => authenticated_root_path} Profile
                %li.nav-item
                  %a.nav-link.text-color-secondary{:href => destroy_user_session_path} Logout
              -else
                %li.nav-item
                  %a.nav-link.text-color-secondary{:href => new_user_session_path} Login
                %li.nav-item
                  %a.nav-link.text-color-secondary{:href => new_user_registration_path} Sign Up

    %main.container
      %h1.text-center.display-1.my-5.text-color-secondary.text-shadow Shards of the Grid
      %h2.text-center.text-color-secondary.text-shadow Ready to Start Your Adventure?

      - flash.each do |key, message|
        %div{ class: "alert alert-#{key == 'alert' ? 'danger' : 'info'}", role: "alert" }
          = message

      = yield

    %footer.container-fluid.py-3.bg-color-primary
      %p.text-center.my-auto.text-color-secondary &copy; #{Time.now.year} Shards of the Grid

    %script{:src => "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js", :integrity => "sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz", :crossorigin => "anonymous"}